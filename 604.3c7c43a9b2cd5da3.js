"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[604],{3657:(k,F,l)=>{l.d(F,{R:()=>S});var r=l(655),C=l(9379),R=l(2011),E=l(4566),I=l(9808);class S{constructor(m){this.store=m}increment(){this.store.dispatch(new R.MP)}decrement(){this.store.dispatch(new R.FB)}}S.\u0275fac=function(m){return new(m||S)(E.Y36(C.yh))},S.\u0275cmp=E.Xpm({type:S,selectors:[["app-counter"]],decls:7,vars:3,consts:[[3,"click"]],template:function(m,M){1&m&&(E.TgZ(0,"p"),E._uU(1),E.ALo(2,"async"),E.qZA(),E.TgZ(3,"button",0),E.NdJ("click",function(){return M.increment()}),E._uU(4,"Increment"),E.qZA(),E.TgZ(5,"button",0),E.NdJ("click",function(){return M.decrement()}),E._uU(6,"Decrement"),E.qZA()),2&m&&(E.xp6(1),E.hij("counter works! the count is ",E.lcZ(2,1,M.count$),""))},pipes:[I.Ov],styles:[""]}),(0,r.gn)([(0,C.Ph)(R.uT)],S.prototype,"count$",void 0)},7848:(k,F,l)=>{l.d(F,{k:()=>I});var r=l(9808),C=l(3903),R=l(2011),E=l(4566);let I=(()=>{class S{}return S.\u0275fac=function(m){return new(m||S)},S.\u0275mod=E.oAB({type:S}),S.\u0275inj=E.cJS({providers:[{provide:C._F,useValue:[R.MP,R.FB],multi:!0}],imports:[[r.ez]]}),S})()},2011:(k,F,l)=>{l.d(F,{FB:()=>I,MP:()=>E,uT:()=>S});var r=l(655),C=l(9379),R=l(4566);let E=(()=>{class _{}return _.type="[Counter] Increment",_})(),I=(()=>{class _{}return _.type="[Counter] Decrement",_})(),S=class{change(m,M){M instanceof E?m.setState(m.getState()+1):M instanceof I&&m.setState(m.getState()-1)}};S.\u0275fac=function(m){return new(m||S)},S.\u0275prov=R.Yz7({token:S,factory:S.\u0275fac}),(0,r.gn)([(0,C.aU)([E,I])],S.prototype,"change",null),S=(0,r.gn)([(0,C.ZM)({name:"counter",defaults:0})],S)},2689:(k,F,l)=>{l.d(F,{ns:()=>j});var r=l(4566),C=l(9379),R=l(262),E=l(8505);const m=new r.OlP("NGXS_DEVTOOLS_OPTIONS");let M=(()=>{class N{constructor(v,x){this._options=v,this._injector=x,this.devtoolsExtension=null,this.windowObj="undefined"!=typeof window?window:{};const b=this.windowObj.__REDUX_DEVTOOLS_EXTENSION__||this.windowObj.devToolsExtension;b&&(this.devtoolsExtension=b.connect(v),this.devtoolsExtension.subscribe(H=>this.dispatched(H)))}get store(){return this._injector.get(C.yh)}handle(v,x,b){return!this.devtoolsExtension||this._options&&this._options.disabled?b(v,x):b(v,x).pipe((0,R.K)(L=>{const K=this.store.snapshot();throw this.sendToDevTools(v,x,K),L}),(0,E.b)(L=>{this.sendToDevTools(v,x,L)}))}sendToDevTools(v,x,b){const H=(0,C.f4)(x);"@@INIT"===H?this.devtoolsExtension.init(v):this.devtoolsExtension.send(Object.assign({},x,{action:null,type:H}),b)}dispatched(v){if("DISPATCH"===v.type){if("JUMP_TO_ACTION"===v.payload.type||"JUMP_TO_STATE"===v.payload.type){const x=JSON.parse(v.state);this.store.reset(x)}else if("TOGGLE_ACTION"===v.payload.type)console.warn("Skip is not supported at this time.");else if("IMPORT_STATE"===v.payload.type){const{actionsById:x,computedStates:b,currentStateIndex:H}=v.payload.nextLiftedState;this.devtoolsExtension.init(b[0].state),Object.keys(x).filter(L=>"0"!==L).forEach(L=>this.devtoolsExtension.send(x[L],b[L].state)),this.store.reset(b[H].state)}}else if("ACTION"===v.type){const x=JSON.parse(v.payload);this.store.dispatch(x)}}}return N.\u0275fac=function(v){return new(v||N)(r.LFG(m),r.LFG(r.zs3))},N.\u0275prov=r.Yz7({token:N,factory:N.\u0275fac}),N})();function V(N){return Object.assign({name:"NGXS"},N)}const Y=new r.OlP("USER_OPTIONS");let j=(()=>{class N{static forRoot(v){return{ngModule:N,providers:[{provide:C.fN,useClass:M,multi:!0},{provide:Y,useValue:v},{provide:m,useFactory:V,deps:[Y]}]}}}return N.\u0275fac=function(v){return new(v||N)},N.\u0275mod=r.oAB({type:N}),N.\u0275inj=r.cJS({}),N})()},9379:(k,F,l)=>{l.d(F,{aU:()=>we,XP:()=>ce,fN:()=>Wt,$l:()=>z,Ph:()=>ze,ZM:()=>be,yh:()=>gt,f4:()=>nt});var r=l(4566),C=l(7579);const R={now:()=>(R.delegate||Date).now(),delegate:void 0};class E extends C.x{constructor(s=1/0,e=1/0,n=R){super(),this._bufferSize=s,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,s),this._windowTime=Math.max(1,e)}next(s){const{isStopped:e,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:u}=this;e||(n.push(s),!o&&n.push(i.now()+u)),this._trimBuffer(),super.next(s)}_subscribe(s){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(s),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let u=0;u<i.length&&!s.closed;u+=n?1:2)s.next(i[u]);return this._checkFinalizedStatuses(s),e}_trimBuffer(){const{_bufferSize:s,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*s;if(s<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const u=e.now();let p=0;for(let h=1;h<n.length&&n[h]<=u;h+=2)p=h;p&&n.splice(0,p+1)}}}function I(t,s){return t===s}function S(t,s,e){if(null===s||null===e||s.length!==e.length)return!1;const n=s.length;for(let o=0;o<n;o++)if(!t(s[o],e[o]))return!1;return!0}function _(t,s=I){let e=null,n=null;function o(){return S(s,e,arguments)||(n=t.apply(null,arguments)),e=arguments,n}return o.reset=function(){e=null,n=null},o}const M=_(function m(){const t=(0,r.XfM)();if(!t)return!1;const s=t.injector.get(r.QSY,null);return!!s&&s.some(n=>(n&&n.providers||[]).some(i=>i&&i.provide&&"MockNgModuleResolver"===i.provide.name||!1))});let V=(()=>{class t{constructor(){this.bootstrap$=new E(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Y=new r.OlP("INITIAL_STATE_TOKEN");let j=(()=>{class t{static set(e){this.value=e}static pop(){const e=this.value;return this.value={},e}}return t.value={},t})();const N=new r.OlP("Internals.StateContextFactory"),P=new r.OlP("Internals.StateFactory");var v=l(9808);class x extends C.x{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const e=super._subscribe(s);return!e.closed&&s.next(this._value),e}getValue(){const{hasError:s,thrownError:e,_value:n}=this;if(s)throw e;return this._throwIfClosed(),n}next(s){super.next(this._value=s)}}var b=l(7669),H=l(2076);function L(...t){const s=(0,b.yG)(t);return(0,H.D)(t,s)}var K=l(8306);const{isArray:ut}=Array,{getPrototypeOf:st,prototype:lt,keys:Et}=Object;var X=l(8421),Z=l(5403),xt=l(3268);function dt(t,s){return t.reduce((e,n,o)=>(e[n]=s[o],e),{})}function pt(...t){const s=(0,b.jO)(t),{args:e,keys:n}=function $(t){if(1===t.length){const s=t[0];if(ut(s))return{args:s,keys:null};if(function ft(t){return t&&"object"==typeof t&&st(t)===lt}(s)){const e=Et(s);return{args:e.map(n=>s[n]),keys:e}}}return{args:t,keys:null}}(t),o=new K.y(i=>{const{length:u}=e;if(!u)return void i.complete();const p=new Array(u);let h=u,T=u;for(let y=0;y<u;y++){let G=!1;(0,X.Xf)(e[y]).subscribe((0,Z.x)(i,U=>{G||(G=!0,T--),p[y]=U},()=>h--,void 0,()=>{(!h||!G)&&(T||i.next(n?dt(n,p):p),i.complete())}))}});return s?o.pipe((0,xt.Z)(s)):o}var vt=l(576);function q(t,s){const e=(0,vt.m)(t)?t:()=>t,n=o=>o.error(e());return new K.y(s?o=>s.schedule(n,0,o):n)}var Ft=l(515),yt=l(3099);function ot(t,s,e){let n,o=!1;return t&&"object"==typeof t?({bufferSize:n=1/0,windowTime:s=1/0,refCount:o=!1,scheduler:e}=t):n=null!=t?t:1/0,(0,yt.B)({connector:()=>new E(n,s,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var J=l(4004),tt=l(4482);function Q(t,s){return s?e=>e.pipe(Q((n,o)=>(0,X.Xf)(t(n,o)).pipe((0,J.U)((i,u)=>s(n,i,o,u))))):(0,tt.e)((e,n)=>{let o=0,i=null,u=!1;e.subscribe((0,Z.x)(n,p=>{i||(i=(0,Z.x)(n,void 0,()=>{i=null,u&&n.complete()}),(0,X.Xf)(t(p,o++)).subscribe(i))},()=>{u=!0,!i&&n.complete()}))})}function Ot(t){return(0,tt.e)((s,e)=>{let n=!1;s.subscribe((0,Z.x)(e,o=>{n=!0,e.next(o)},()=>{n||e.next(t),e.complete()}))})}var Lt=l(5032);function mt(t){return(0,tt.e)((s,e)=>{(0,X.Xf)(t).subscribe((0,Z.x)(e,()=>e.complete(),Lt.Z)),!e.closed&&s.subscribe(e)})}var _t=l(4671);function d(t,s){return t===s}var c=l(9300),f=l(5698),g=l(5577),D=l(262),A=l(8505);const w={STATE_NAME:t=>`${t} is not a valid state name. It needs to be a valid object property name.`,STATE_NAME_PROPERTY:()=>"States must register a 'name' property",STATE_UNIQUE:(t,s,e)=>`State name '${t}' from ${s} already exists in ${e}`,STATE_DECORATOR:()=>"States must be decorated with @State() decorator",INCORRECT_PRODUCTION:()=>"Angular is running in production mode but NGXS is still running in the development mode!\nPlease set developmentMode to false on the NgxsModule options when in production mode.\nNgxsModule.forRoot(states, { developmentMode: !environment.production })",INCORRECT_DEVELOPMENT:()=>"RECOMMENDATION: Set developmentMode to true on the NgxsModule when Angular is running in development mode.\nNgxsModule.forRoot(states, { developmentMode: !environment.production })",SELECT_FACTORY_NOT_CONNECTED:()=>"You have forgotten to import the NGXS module!",ACTION_DECORATOR:()=>"@Action() decorator cannot be used with static methods",SELECTOR_DECORATOR:()=>"Selectors only work on methods",ZONE_WARNING:()=>"Your application was bootstrapped with nooped zone and your execution strategy requires an actual NgZone!\nPlease set the value of the executionStrategy property to NoopNgxsExecutionStrategy.\nNgxsModule.forRoot(states, { executionStrategy: NoopNgxsExecutionStrategy })",PATCHING_ARRAY:()=>"Patching arrays is not supported.",PATCHING_PRIMITIVE:()=>"Patching primitives is not supported.",UNDECORATED_STATE_IN_IVY:t=>`'${t}' class should be decorated with @Injectable() right after the @State() decorator`};let jt=(()=>{class t{constructor(e,n){this._ngZone=e,this._platformId=n,this.verifyZoneIsNotNooped(this._ngZone)}enter(e){return(0,v.PM)(this._platformId)?this.runInsideAngular(e):this.runOutsideAngular(e)}leave(e){return this.runInsideAngular(e)}runInsideAngular(e){return r.R0b.isInAngularZone()?e():this._ngZone.run(e)}runOutsideAngular(e){return r.R0b.isInAngularZone()?this._ngZone.runOutsideAngular(e):e()}verifyZoneIsNotNooped(e){e instanceof r.R0b||console.warn(w.ZONE_WARNING())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const kt=new r.OlP("ROOT_STATE_TOKEN"),Kt=new r.OlP("FEATURE_STATE_TOKEN"),Wt=new r.OlP("NGXS_PLUGINS"),$t=new r.OlP("NG_TEST_MODE"),Xt=new r.OlP("NG_DEV_MODE"),W="NGXS_META",Zt="NGXS_OPTIONS_META";let et=(()=>{class t{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=jt}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ue{constructor(s,e,n){this.previousValue=s,this.currentValue=e,this.firstChange=n}}const Jt=new r.OlP("NGXS_EXECUTION_STRATEGY");function nt(t){return t.constructor&&t.constructor.type?t.constructor.type:t.type}const Qt=(t,s,e)=>{t=Object.assign({},t);const n=s.split("."),o=n.length-1;return n.reduce((i,u,p)=>(i[u]=p===o?e:Array.isArray(i[u])?i[u].slice():Object.assign({},i[u]),i&&i[u]),t),t},Tt=(t,s)=>s.split(".").reduce((e,n)=>e&&e[n],t),Gt=t=>t&&"object"==typeof t&&!Array.isArray(t),bt=(t,...s)=>{if(!s.length)return t;const e=s.shift();if(Gt(t)&&Gt(e))for(const n in e)Gt(e[n])?(t[n]||Object.assign(t,{[n]:{}}),bt(t[n],e[n])):Object.assign(t,{[n]:e[n]});return bt(t,...s)};function Ut(t){if(!t.hasOwnProperty(W)){const s={name:null,actions:{},defaults:{},path:null,makeRootSelector:e=>e.getStateGetter(s.name),children:[]};Object.defineProperty(t,W,{value:s})}return ht(t)}function ht(t){return t[W]}function qt(t,s){return s&&s.compatibility&&s.compatibility.strictContentSecurityPolicy?function le(t){const s=t.slice();return e=>s.reduce((n,o)=>n&&n[o],e)}(t):function fe(t){const s=t;let e="store."+s[0],n=0;const o=s.length;let i=e;for(;++n<o;)i=i+" && "+(e=e+"."+s[n]);return new Function("store","return "+i+";")}(t)}function te(t,s){const e=Tt(s.currentAppState,t.path),n=Tt(s.newAppState,t.path);return new ue(e,n,!t.isInitialised)}function Ee(...t){return function rt(t,s,e=Oe){const n=function me(t){return t.reduce((s,e)=>(s[nt(e)]=!0,s),{})}(t),o=s&&function _e(t){return t.reduce((s,e)=>(s[e]=!0,s),{})}(s);return function(i){return i.pipe(function ve(t,s){return(0,c.h)(e=>{const n=nt(e.action);return t[n]&&(!s||s[e.status])})}(n,o),e())}}(t,["DISPATCHED"])}function Oe(){return(0,J.U)(t=>t.action)}function Mt(t){return s=>new K.y(e=>s.subscribe({next(n){t.leave(()=>e.next(n))},error(n){t.leave(()=>e.error(n))},complete(){t.leave(()=>e.complete())}}))}let At=(()=>{class t{constructor(e){this._executionStrategy=e}enter(e){return this._executionStrategy.enter(e)}leave(e){return this._executionStrategy.leave(e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Jt))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Te extends C.x{constructor(){super(...arguments),this._itemQueue=[],this._busyPushingNext=!1}next(s){if(this._busyPushingNext)this._itemQueue.unshift(s);else{for(this._busyPushingNext=!0,super.next(s);this._itemQueue.length>0;){const e=this._itemQueue.pop();super.next(e)}this._busyPushingNext=!1}}}let Ct=(()=>{class t extends Te{}return t.\u0275fac=function(){let s;return function(n){return(s||(s=r.n5z(t)))(n||t)}}(),t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Me=(()=>{class t extends K.y{constructor(e,n){super(o=>{const i=e.pipe(Mt(n)).subscribe({next:u=>o.next(u),error:u=>o.error(u),complete:()=>o.complete()});o.add(i)})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ct),r.LFG(At))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ee=t=>(...s)=>t.shift()(...s,(...n)=>ee(t)(...n));let Dt=(()=>{class t extends x{constructor(){super({})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Yt=(()=>{class t{constructor(e,n){this._parentManager=e,this._pluginHandlers=n,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const e=this.getPluginHandlers();this.rootPlugins.push(...e)}getPluginHandlers(){return(this._pluginHandlers||[]).map(n=>n.handle?n.handle.bind(n):n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12),r.LFG(Wt,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),zt=(()=>{class t extends C.x{}return t.\u0275fac=function(){let s;return function(n){return(s||(s=r.n5z(t)))(n||t)}}(),t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ne=(()=>{class t{constructor(e,n,o,i,u,p){this._injector=e,this._actions=n,this._actionResults=o,this._pluginManager=i,this._stateStream=u,this._ngxsExecutionStrategy=p}dispatch(e){const n=this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(e));return n.subscribe({error:o=>this._ngxsExecutionStrategy.leave(()=>{try{this._errorHandler=this._errorHandler||this._injector.get(r.qLn),this._errorHandler.handleError(o)}catch(i){}})}),n.pipe(Mt(this._ngxsExecutionStrategy))}dispatchByEvents(e){return Array.isArray(e)?0===e.length?L(this._stateStream.getValue()):pt(e.map(n=>this.dispatchSingle(n))):this.dispatchSingle(e)}dispatchSingle(e){if(!nt(e))return q(new Error(`This action doesn't have a type property: ${e.constructor.name}`));const o=this._stateStream.getValue();return ee([...this._pluginManager.plugins,(u,p)=>{u!==o&&this._stateStream.next(u);const h=this.getActionResultStream(p);return h.subscribe(T=>this._actions.next(T)),this._actions.next({action:p,status:"DISPATCHED"}),this.createDispatchObservable(h)}])(o,e).pipe(ot())}getActionResultStream(e){return this._actionResults.pipe((0,c.h)(n=>n.action===e&&"DISPATCHED"!==n.status),(0,f.q)(1),ot())}createDispatchObservable(e){return e.pipe(Q(n=>{switch(n.status){case"SUCCESSFUL":return L(this._stateStream.getValue());case"ERRORED":return q(n.error);default:return Ft.E}})).pipe(ot())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3),r.LFG(Ct),r.LFG(zt),r.LFG(Yt),r.LFG(Dt),r.LFG(At))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const se=t=>{Object.freeze(t);const s="function"==typeof t,e=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach(function(n){e.call(t,n)&&(!s||"caller"!==n&&"callee"!==n&&"arguments"!==n)&&null!==t[n]&&("object"==typeof t[n]||"function"==typeof t[n])&&!Object.isFrozen(t[n])&&se(t[n])}),t};let oe=(()=>{class t{constructor(e,n){this.isDevMode=e,this.isTestMode=n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Xt),r.LFG($t))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),re=(()=>{class t{constructor(e,n){this._host=e,this._config=n}get isIncorrectProduction(){return!this._host.isDevMode()&&this._config.developmentMode}get isIncorrectDevelopment(){return this._host.isDevMode()&&!this._config.developmentMode}verifyDevMode(){this._host.isTestMode()||(this.isIncorrectProduction?console.warn(w.INCORRECT_PRODUCTION()):this.isIncorrectDevelopment&&console.warn(w.INCORRECT_DEVELOPMENT()))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(oe),r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t{constructor(e,n,o,i){this._stateStream=e,this._dispatcher=n,this._config=o,i.verifyDevMode()}getRootStateOperations(){const e={getState:()=>this._stateStream.getValue(),setState:n=>this._stateStream.next(n),dispatch:n=>this._dispatcher.dispatch(n)};return this._config.developmentMode?this.ensureStateAndActionsAreImmutable(e):e}ensureStateAndActionsAreImmutable(e){return{getState:()=>e.getState(),setState:n=>{const o=se(n);return e.setState(o)},dispatch:n=>e.dispatch(n)}}setStateToTheCurrentWithNew(e){const n=this.getRootStateOperations(),o=n.getState();n.setState(Object.assign({},o,e.defaults))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Dt),r.LFG(ne),r.LFG(et),r.LFG(re))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Nt=(()=>{class t{constructor(e){this._internalStateOperations=e}createStateContext(e){const n=this._internalStateOperations.getRootStateOperations();function o(h){return Tt(h,e.path)}function i(h,T){const y=Qt(h,e.path,T),G=e.instance;if(G.ngxsOnChanges){const U=te(e,{currentAppState:h,newAppState:y});G.ngxsOnChanges(U)}return n.setState(y),y}function u(h,T){return i(h,T(o(h)))}return{getState:()=>o(n.getState()),patchState(h){const T=n.getState(),y=function Ae(t){return s=>{if(Array.isArray(t))throw new Error(w.PATCHING_ARRAY());if("object"!=typeof t)throw new Error(w.PATCHING_PRIMITIVE());const e=Object.assign({},s);for(const n in t)e[n]=t[n];return e}}(h);return u(T,y)},setState(h){const T=n.getState();return function p(h){return"function"==typeof h}(h)?u(T,h):i(T,h)},dispatch:h=>n.dispatch(h)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(it))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class It{static stateNameErrorMessage(s){return w.STATE_NAME(s)}static checkCorrectStateName(s){if(!s)throw new Error(w.STATE_NAME_PROPERTY());if(!this.stateNameRegex.test(s))throw new Error(this.stateNameErrorMessage(s))}static checkStateNameIsUnique(s,e){const o=this.getValidStateMeta(s).name,i=e[o];if(i&&i!==s)throw new Error(w.STATE_UNIQUE(o,s.name,i.name));return o}static getValidStateMeta(s){const e=ht(s);if(!e)throw new Error(w.STATE_DECORATOR());return e}}It.stateNameRegex=new RegExp("^[a-zA-Z0-9_]+$");let at=(()=>{class t{constructor(e,n,o,i,u,p,h){this._injector=e,this._config=n,this._parentFactory=o,this._actions=i,this._actionResults=u,this._stateContextFactory=p,this._initialState=h,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=_(()=>{const T=this;function y(U){const B=T.statePaths[U];return B?qt(B.split("."),T._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(U){let B=y(U);return B||((...ct)=>(B||(B=y(U)),B?B(...ct):void 0))},getSelectorOptions:U=>Object.assign({},T._config.selectorOptions,U||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static cloneDefaults(e){let n={};return n=Array.isArray(e)?e.slice():function Se(t){return"object"==typeof t&&null!==t||"function"==typeof t}(e)?Object.assign({},e):void 0===e?{}:e,n}static checkStatesAreValid(e){e.forEach(It.getValidStateMeta)}ngOnDestroy(){this._actionsSubscription.unsubscribe()}add(e){t.checkStatesAreValid(e);const{newStates:n}=this.addToStatesMap(e);if(!n.length)return[];const o=function de(t){const s=e=>{const n=t.find(o=>o===e);if(!n)throw new Error(`Child state not found: ${e}. \r\nYou may have forgotten to add states to module`);return n[W].name};return t.reduce((e,n)=>{const{name:o,children:i}=n[W];return e[o]=(i||[]).map(s),e},{})}(n),i=function ge(t){const s=[],e={},n=(o,i=[])=>{Array.isArray(i)||(i=[]),i.push(o),e[o]=!0,t[o].forEach(u=>{if(i.indexOf(u)>=0)throw new Error(`Circular dependency '${u}' is required by '${o}': ${i.join(" -> ")}`);e[u]||n(u,i.slice(0))}),s.indexOf(o)<0&&s.push(o)};return Object.keys(t).forEach(o=>n(o)),s.reverse()}(o),u=function he(t,s={}){const e=(n,o)=>{for(const i in n)if(n.hasOwnProperty(i)&&n[i].indexOf(o)>=0){const u=e(n,i);return null!==u?`${u}.${i}`:i}return null};for(const n in t)if(t.hasOwnProperty(n)){const o=e(t,n);s[n]=o?`${o}.${n}`:n}return s}(o),p=function pe(t){return t.reduce((s,e)=>(s[e[W].name]=e,s),{})}(n),h=[];for(const T of i){const y=p[T],G=u[T],U=y[W];this.addRuntimeInfoToMeta(U,G);const B={name:T,path:G,isInitialised:!1,actions:U.actions,instance:this._injector.get(y),defaults:t.cloneDefaults(U.defaults)};this.hasBeenMountedAndBootstrapped(T,G)||h.push(B),this.states.push(B)}return h}addAndReturnDefaults(e){const o=this.add(e||[]);return{defaults:o.reduce((u,p)=>Qt(u,p.path,p.defaults),{}),states:o}}connectActionHandlers(){null===this._actionsSubscription&&(this._actionsSubscription=this._actions.pipe((0,c.h)(e=>"DISPATCHED"===e.status),(0,g.z)(({action:e})=>this.invokeActions(this._actions,e).pipe((0,J.U)(()=>({action:e,status:"SUCCESSFUL"})),Ot({action:e,status:"CANCELED"}),(0,D.K)(n=>L({action:e,status:"ERRORED",error:n}))))).subscribe(e=>this._actionResults.next(e)))}invokeActions(e,n){const o=nt(n),i=[];for(const u of this.states){const p=u.actions[o];if(p)for(const h of p){const T=this._stateContextFactory.createStateContext(u);try{let y=u.instance[h.fn](T,n);y instanceof Promise&&(y=(0,H.D)(y)),y instanceof K.y?(y=y.pipe(Ot({})),h.options.cancelUncompleted&&(y=y.pipe(mt(e.pipe(Ee(n)))))):y=L({}).pipe(ot()),i.push(y)}catch(y){i.push(q(y))}}}return i.length||i.push(L({})),pt(i)}addToStatesMap(e){const n=[],o=this.statesByName;for(const i of e){const u=It.checkStateNameIsUnique(i,o);!o[u]&&(n.push(i),o[u]=i)}return{newStates:n}}addRuntimeInfoToMeta(e,n){this.statePaths[e.name]=n,e.path=n}hasBeenMountedAndBootstrapped(e,n){const o=void 0!==Tt(this._initialState,n);return this.statesByName[e]&&o}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3),r.LFG(et),r.LFG(t,12),r.LFG(Ct),r.LFG(zt),r.LFG(Nt),r.LFG(Y,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Ht=(()=>{class t{constructor(e,n,o){this.internalStateOperations=e,this.stateContextFactory=n,this.bootstrapper=o}ngxsBootstrap(e,n){this.internalStateOperations.getRootStateOperations().dispatch(e).pipe((0,c.h)(()=>!!n),(0,A.b)(()=>this.invokeInit(n.states)),(0,g.z)(()=>this.bootstrapper.appBootstrapped$),(0,c.h)(o=>!!o)).subscribe(()=>this.invokeBootstrap(n.states))}invokeInit(e){for(const n of e){const o=n.instance;if(o.ngxsOnChanges){const p=te(n,{currentAppState:{},newAppState:this.internalStateOperations.getRootStateOperations().getState()});o.ngxsOnChanges(p)}o.ngxsOnInit&&o.ngxsOnInit(this.getStateContext(n)),n.isInitialised=!0}}invokeBootstrap(e){for(const n of e){const o=n.instance;o.ngxsAfterBootstrap&&o.ngxsAfterBootstrap(this.getStateContext(n))}}getStateContext(e){return this.stateContextFactory.createStateContext(e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(it),r.LFG(Nt),r.LFG(V))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();let gt=(()=>{class t{constructor(e,n,o,i,u,p){this._stateStream=e,this._internalStateOperations=n,this._config=o,this._internalExecutionStrategy=i,this._stateFactory=u,this.initStateStream(p)}dispatch(e){return this._internalStateOperations.getRootStateOperations().dispatch(e)}select(e){const n=this.getStoreBoundSelectorFn(e);return this._stateStream.pipe((0,J.U)(n),(0,D.K)(o=>{const{suppressErrors:i}=this._config.selectorOptions;return o instanceof TypeError&&i?L(void 0):q(o)}),function a(t,s=_t.y){return t=null!=t?t:d,(0,tt.e)((e,n)=>{let o,i=!0;e.subscribe((0,Z.x)(n,u=>{const p=s(u);(i||!t(o,p))&&(i=!1,o=p,n.next(u))}))})}(),Mt(this._internalExecutionStrategy))}selectOnce(e){return this.select(e).pipe((0,f.q)(1))}selectSnapshot(e){return this.getStoreBoundSelectorFn(e)(this._stateStream.getValue())}subscribe(e){return this._stateStream.pipe(Mt(this._internalExecutionStrategy)).subscribe(e)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(e){return this._internalStateOperations.getRootStateOperations().setState(e)}getStoreBoundSelectorFn(e){return function ae(t){const s=function Vt(t){return t.NGXS_SELECTOR_META}(t)||ht(t);return s&&s.makeRootSelector||(()=>t)}(e)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(e){const n=this._stateStream.value;if(!n||0===Object.keys(n).length){const u=Object.keys(this._config.defaultsState).length>0?Object.assign({},this._config.defaultsState,e):e;this._stateStream.next(u)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Dt),r.LFG(it),r.LFG(et),r.LFG(At),r.LFG(at),r.LFG(Y,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),St=(()=>{class t{constructor(e,n){t.store=e,t.config=n}ngOnDestroy(){t.store=null,t.config=null}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(gt),r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t.store=null,t.config=null,t})();class ce{static get type(){return"@@INIT"}}class Pe{constructor(s){this.addedStates=s}static get type(){return"@@UPDATE_STATE"}}const Pt=new E(1);let Fe=(()=>{class t{constructor(e,n,o,i,u=[],p){!function xe(){try{const t=window.ng,e=!(t.probe&&t.coreTokens)&&(0,r.X6Q)();Pt.next(e)}catch(t){Pt.next(!1)}finally{Pt.complete()}}();const h=e.addAndReturnDefaults(u);n.setStateToTheCurrentWithNew(h),e.connectActionHandlers(),p.ngxsBootstrap(new ce,h)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(at),r.LFG(it),r.LFG(gt),r.LFG(St),r.LFG(kt,8),r.LFG(Ht))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),Le=(()=>{class t{constructor(e,n,o,i=[],u){const p=t.flattenStates(i),h=o.addAndReturnDefaults(p);h.states.length&&(n.setStateToTheCurrentWithNew(h),u.ngxsBootstrap(new Pe(h.defaults),h))}static flattenStates(e=[]){return e.reduce((n,o)=>n.concat(o),[])}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(gt),r.LFG(it),r.LFG(at),r.LFG(Kt,8),r.LFG(Ht))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();class z{static forRoot(s=[],e={}){return{ngModule:Fe,providers:[at,Nt,Me,Ct,V,re,oe,Ht,ne,zt,it,At,gt,Dt,St,Yt,...s,...z.ngxsTokenProviders(s,e)]}}static forFeature(s=[]){return{ngModule:Le,providers:[at,Yt,...s,{provide:Kt,multi:!0,useValue:s}]}}static ngxsTokenProviders(s,e){return[{provide:$t,useValue:M},{provide:Xt,useValue:r.X6Q},{provide:Jt,useClass:e.executionStrategy||jt},{provide:kt,useValue:s},{provide:z.ROOT_OPTIONS,useValue:e},{provide:et,useFactory:z.ngxsConfigFactory,deps:[z.ROOT_OPTIONS]},{provide:r.tb,useFactory:z.appBootstrapListenerFactory,multi:!0,deps:[V]},{provide:Y,useFactory:z.getInitialState},{provide:N,useExisting:Nt},{provide:P,useExisting:at}]}static ngxsConfigFactory(s){return bt(new et,s)}static appBootstrapListenerFactory(s){return()=>s.bootstrap()}static getInitialState(){return j.pop()}}function we(t,s){return(e,n)=>{if(e.hasOwnProperty("prototype"))throw new Error(w.ACTION_DECORATOR());const i=Ut(e.constructor);Array.isArray(t)||(t=[t]);for(const u of t){const p=u.type;i.actions[p]||(i.actions[p]=[]),i.actions[p].push({fn:n,options:s||{},type:p})}}}function be(t){return n=>{!function Ge(t){Pt.subscribe(s=>{s&&(t.\u0275prov||console.warn(w.UNDECORATED_STATE_IN_IVY(t.name)))})}(n);const o=n,i=Ut(o),u=Object.getPrototypeOf(o),p=function s(n){return Object.assign({},n[Zt]||{},t)}(u);(function e(n){const{meta:o,inheritedStateClass:i,optionsWithInheritance:u}=n,{children:p,defaults:h,name:T}=u,y="string"==typeof T?T:T&&T.getName()||null;It.checkCorrectStateName(y),i.hasOwnProperty(W)&&(o.actions=Object.assign({},o.actions,(i[W]||{}).actions)),o.children=p,o.defaults=h,o.name=y})({meta:i,inheritedStateClass:u,optionsWithInheritance:p}),o[Zt]=p}}function ze(t,...s){return function(e,n){const o=n.toString(),i=`__${o}__selector`,u=function Ve(t,s,e=[]){return s=s||function Ye(t){const s=t.length-1;return 36===t.charCodeAt(s)?t.slice(0,s):t}(t),"string"==typeof s?qt(e.length?[s,...e]:s.split("."),St.config):s}(o,t,s);Object.defineProperties(e,{[i]:{writable:!0,enumerable:!1,configurable:!0},[o]:{enumerable:!0,configurable:!0,get(){return this[i]||(this[i]=function Be(t){if(!St.store)throw new Error(w.SELECT_FACTORY_NOT_CONNECTED());return St.store.select(t)}(u))}}})}}z.\u0275fac=function(s){return new(s||z)},z.\u0275mod=r.oAB({type:z}),z.\u0275inj=r.cJS({}),z.ROOT_OPTIONS=new r.OlP("ROOT_OPTIONS")},262:(k,F,l)=>{l.d(F,{K:()=>E});var r=l(8421),C=l(5403),R=l(4482);function E(I){return(0,R.e)((S,_)=>{let V,m=null,M=!1;m=S.subscribe((0,C.x)(_,void 0,void 0,Y=>{V=(0,r.Xf)(I(Y,E(I)(S))),m?(m.unsubscribe(),m=null,V.subscribe(_)):M=!0})),M&&(m.unsubscribe(),m=null,V.subscribe(_))})}},9300:(k,F,l)=>{l.d(F,{h:()=>R});var r=l(4482),C=l(5403);function R(E,I){return(0,r.e)((S,_)=>{let m=0;S.subscribe((0,C.x)(_,M=>E.call(I,M,m++)&&_.next(M)))})}},8505:(k,F,l)=>{l.d(F,{b:()=>I});var r=l(576),C=l(4482),R=l(5403),E=l(4671);function I(S,_,m){const M=(0,r.m)(S)||_||m?{next:S,error:_,complete:m}:S;return M?(0,C.e)((V,Y)=>{var j;null===(j=M.subscribe)||void 0===j||j.call(M);let N=!0;V.subscribe((0,R.x)(Y,P=>{var v;null===(v=M.next)||void 0===v||v.call(M,P),Y.next(P)},()=>{var P;N=!1,null===(P=M.complete)||void 0===P||P.call(M),Y.complete()},P=>{var v;N=!1,null===(v=M.error)||void 0===v||v.call(M,P),Y.error(P)},()=>{var P,v;N&&(null===(P=M.unsubscribe)||void 0===P||P.call(M)),null===(v=M.finalize)||void 0===v||v.call(M)}))}):E.y}},3268:(k,F,l)=>{l.d(F,{Z:()=>E});var r=l(4004);const{isArray:C}=Array;function E(I){return(0,r.U)(S=>function R(I,S){return C(S)?I(...S):I(S)}(I,S))}},3903:(k,F,l)=>{l.d(F,{_F:()=>X,yz:()=>Q,KA:()=>_t});var r=l(4566),C=l(9379),R=l(8421),E=l(8306),I=l(5577),S=l(1144),_=l(576),m=l(3268);const M=["addListener","removeListener"],V=["addEventListener","removeEventListener"],Y=["on","off"];function j(a,d,c,f){if((0,_.m)(c)&&(f=c,c=void 0),f)return j(a,d,c).pipe((0,m.Z)(f));const[g,D]=function x(a){return(0,_.m)(a.addEventListener)&&(0,_.m)(a.removeEventListener)}(a)?V.map(A=>O=>a[A](d,O,c)):function P(a){return(0,_.m)(a.addListener)&&(0,_.m)(a.removeListener)}(a)?M.map(N(a,d)):function v(a){return(0,_.m)(a.on)&&(0,_.m)(a.off)}(a)?Y.map(N(a,d)):[];if(!g&&(0,S.z)(a))return(0,I.z)(A=>j(A,d,c))((0,R.Xf)(a));if(!g)throw new TypeError("Invalid event target");return new E.y(A=>{const O=(...w)=>A.next(1<w.length?w:w[0]);return g(O),()=>D(O)})}function N(a,d){return c=>f=>a[c](d,f)}var b=l(515),H=l(9300),L=l(4004),K=l(7579);const ut="GET_STORE",st="STORE_UPATE",lt="ACTION_DISPATCHED",Et=new r.OlP("BROADCAST_CHANNEL_NAME");class ${}const ft=new r.OlP("ALLOWED_ORIGIN"),X=new r.OlP("KNOWN_ACTION");function dt(a,d,c=new Set){if("object"==typeof a&&null!==a){if(c.has(a))throw console.error("Found cycle in object tree. Cycle detected in",a),new Error("Object cycle detected");c.add(a)}return a===d?{result:a,equal:!0}:a instanceof Array&&d instanceof Array?function Z(a,d,c){let f=0,g=[],D=!0;for(;f<a.length&&f<d.length;f++){const A=dt(a[f],d[f],c);g.push(A.result),D&&(D=A.equal)}for(;f<d.length;f++)D=!1,g.push(d[f]);return D?{result:a,equal:D}:{result:g,equal:D}}(a,d,c):a&&d&&"object"==typeof a&&"object"==typeof d?function xt(a,d,c){const f={};let g=!0;const D=new Set;for(const A in a)if(Object.prototype.hasOwnProperty.call(a,A))if(D.add(A),Object.prototype.hasOwnProperty.call(d,A)){let O=dt(a[A],d[A],c);f[A]=O.result,g&&(g=O.equal)}else g=!1;for(const A in d)Object.prototype.hasOwnProperty.call(d,A)&&!D.has(A)&&(g=!1,f[A]=d[A]);return g?{result:a,equal:g}:{result:f,equal:g}}(a,d,c):{result:d,equal:!1}}function pt(a){var d;if("string"==typeof(null===(d=null==a?void 0:a.data)||void 0===d?void 0:d.type)){switch(a.data.type){case lt:case ut:case st:break;default:console.warn("Unknown message type.",a.data)}return!0}return console.warn("Invalid message event",a),!1}let vt=(()=>{class a{constructor(c){this.payload=c}}return a.type="@@MESSAGE",a})(),q=(()=>{class a{constructor(c,f){this.commsService=c,this.store=f,this.init=()=>{this.subscription&&(console.warn("ChildHandler is already initiated, will re-initiate"),this.subscription.unsubscribe()),this.subscription=this.commsService.messages$.subscribe(g=>{g.type===st&&this.store.dispatch(new vt(g.payload))}),this.commsService.postMessage({type:ut})}}ngOnDestroy(){var c;null===(c=this.subscription)||void 0===c||c.unsubscribe()}}return a.\u0275fac=function(c){return new(c||a)(r.LFG($),r.LFG(C.yh))},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})(),Ft=(()=>{class a{constructor(c){this.commsService=c}handle(c,f,g){var D;if(f instanceof C.XP)return g(c,f);if(f instanceof vt){const{result:A,equal:O}=dt(c,f.payload);if(!O)return g(A,f)}else this.commsService.postMessage({type:lt,actionType:null===(D=f.constructor)||void 0===D?void 0:D.type,action:f});return b.E}}return a.\u0275fac=function(c){return new(c||a)(r.LFG($))},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})(),yt=(()=>{class a{constructor(c,f,g){this.store=c,this.commsService=f,this.subscriptions=[],this.init=()=>{var D;if(this.subscriptions.length)for(console.warn("HostHandler is already initiated, will re-initiate");this.subscriptions.length;)null===(D=this.subscriptions.pop())||void 0===D||D.unsubscribe();this.subscriptions.push(this.commsService.messages$.subscribe(A=>{switch(A.type){case lt:this.onActionDispatched(A.actionType,A.action);break;case ut:this.onGetStore()}})),this.subscriptions.push(this.store.subscribe(A=>{this.commsService.postMessage({type:st,payload:A})}))},this.knownActions=new Map(null==g?void 0:g.flat().map(D=>[D.type,D]))}onGetStore(){this.commsService.postMessage({type:st,payload:this.store.snapshot()})}onActionDispatched(c,f){var g;if(c){const D=this.knownActions.get(c),A=D?Object.create(D.prototype):new((g=class{}).type=c,g);this.store.dispatch(Object.assign(A,f))}else this.store.dispatch(f)}ngOnDestroy(){for(const c of this.subscriptions)c.unsubscribe()}}return a.\u0275fac=function(c){return new(c||a)(r.LFG(C.yh),r.LFG($),r.LFG(X,8))},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})(),ot=(()=>{class a{constructor(c){this.channel=new BroadcastChannel(c),this.messages$=j(this.channel,"message").pipe((0,H.h)(pt),(0,L.U)(f=>f.data))}postMessage(c){this.channel.postMessage(c)}}return a.\u0275fac=function(c){return new(c||a)(r.LFG(Et))},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})();const J="PORT_SETUP",tt="PORT_TEARDOWN";let Q=(()=>{class a{constructor(){this.$messages=new K.x,this.ports=new Map,this.messages$=this.$messages.asObservable(),this.eventSourcesChanged=new r.vpe,this.handleMessage=c=>{var f;if(c.data===tt){const g=null!==(f=c.source)&&void 0!==f?f:c.target;g&&(this.ports.delete(g),g.removeEventListener("message",this.handleMessage),g.close())}else pt(c)&&this.$messages.next(c.data)},window.addEventListener("unload",()=>this.ngOnDestroy(!1))}get eventSources(){return this.ports.values()}addPort(c,f){this.ports.set(c,f),this.eventSourcesChanged.emit(),c.addEventListener("message",this.handleMessage),c.start()}removePort(c,f=!0){c.postMessage(tt),c.removeEventListener("message",this.handleMessage),c.close(),f&&(this.ports.delete(c),this.eventSourcesChanged.emit())}ngOnDestroy(c=!0){for(const f of this.ports.keys())this.removePort(f,!1);c&&this.ports.clear(),this.$messages.complete()}postMessage(c){for(const f of this.ports.keys())f.postMessage(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})(),Ot=(()=>{class a extends Q{constructor(c){super(),null!=c||(c=location.origin);const f=new MessageChannel;if(window.opener)this.addPort(f.port1,window.opener),window.opener.postMessage(J,c,[f.port2]);else{if(window.parent===window)throw new Error("Unable to connect to store host");this.addPort(f.port1,window.parent),window.parent.postMessage(J,c,[f.port2])}}}return a.\u0275fac=function(c){return new(c||a)(r.LFG(ft,8))},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})(),Lt=(()=>{class a extends Q{constructor(c){super(),null!=c||(c=location.origin);const f=new Set("string"==typeof c?[c]:c.flat());window.addEventListener("message",g=>{!f.has("*")&&!f.has(g.origin)||g.data===J&&this.addPort(g.ports[0],g.source)})}}return a.\u0275fac=function(c){return new(c||a)(r.LFG(ft,8))},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})();function mt(a,d){var c;const f=[];return a?f.push(yt):f.push(q,{provide:C.fN,useClass:Ft,multi:!0}),(null==d?void 0:d.knownActions)instanceof Array&&f.push({provide:X,useValue:d.knownActions,multi:!0}),"broadcast"===(null==d?void 0:d.messageHandler)?f.push({provide:$,useClass:ot},{provide:Et,useValue:null!==(c=d.broadcastChannelName)&&void 0!==c?c:"NGXS Messages"}):void 0===(null==d?void 0:d.messageHandler)||"port"===d.messageHandler?(f.push({provide:Q,useClass:a?Lt:Ot},{provide:$,useExisting:Q}),(null==d?void 0:d.origin)&&f.push({provide:ft,useValue:d.origin})):f.push({provide:$,useExisting:d.messageHandler}),{ngModule:_t,providers:f}}let _t=(()=>{class a{constructor(c,f){var g;null!==(g=null==c?void 0:c.init())&&void 0!==g||null==f||f.init()}static forChild(c){return mt(!1,c)}static forRoot(c){return mt(!0,c)}}return a.\u0275fac=function(c){return new(c||a)(r.LFG(yt,8),r.LFG(q,8))},a.\u0275mod=r.oAB({type:a}),a.\u0275inj=r.cJS({}),a})()}}]);