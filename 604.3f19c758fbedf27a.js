"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[604],{3657:(H,F,u)=>{u.d(F,{R:()=>p});var r=u(655),D=u(5980),x=u(2011),E=u(2717),O=u(6895);class p{constructor(y){this.store=y}increment(){this.store.dispatch(new x.MP)}decrement(){this.store.dispatch(new x.FB)}}p.\u0275fac=function(y){return new(y||p)(E.Y36(D.yh))},p.\u0275cmp=E.Xpm({type:p,selectors:[["app-counter"]],decls:7,vars:3,consts:[[3,"click"]],template:function(y,S){1&y&&(E.TgZ(0,"p"),E._uU(1),E.ALo(2,"async"),E.qZA(),E.TgZ(3,"button",0),E.NdJ("click",function(){return S.increment()}),E._uU(4,"Increment"),E.qZA(),E.TgZ(5,"button",0),E.NdJ("click",function(){return S.decrement()}),E._uU(6,"Decrement"),E.qZA()),2&y&&(E.xp6(1),E.hij("counter works! the count is ",E.lcZ(2,1,S.count$),""))},dependencies:[O.Ov]}),(0,r.gn)([(0,D.Ph)(x.uT)],p.prototype,"count$",void 0)},7848:(H,F,u)=>{u.d(F,{k:()=>O});var r=u(6895),D=u(1035),x=u(2011),E=u(2717);let O=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=E.oAB({type:p}),p.\u0275inj=E.cJS({providers:[{provide:D._F,useValue:[x.MP,x.FB],multi:!0}],imports:[r.ez]}),p})()},2011:(H,F,u)=>{u.d(F,{FB:()=>O,MP:()=>E,uT:()=>p});var r=u(655),D=u(5980),x=u(2717);let E=(()=>{class g{}return g.type="[Counter] Increment",g})(),O=(()=>{class g{}return g.type="[Counter] Decrement",g})(),p=class{change(y,S){S instanceof E?y.setState(y.getState()+1):S instanceof O&&y.setState(y.getState()-1)}};p.\u0275fac=function(y){return new(y||p)},p.\u0275prov=x.Yz7({token:p,factory:p.\u0275fac}),(0,r.gn)([(0,D.aU)([E,O])],p.prototype,"change",null),p=(0,r.gn)([(0,D.ZM)({name:"counter",defaults:0})],p)},2689:(H,F,u)=>{u.d(F,{ns:()=>L});var r=u(2717),D=u(5980),x=u(262),E=u(8505);const y=new r.OlP("NGXS_DEVTOOLS_OPTIONS");let U=(()=>{class _{constructor(T,I,G){this._options=T,this._injector=I,this._ngZone=G,this.devtoolsExtension=null,this.globalDevtools=r.dqk.__REDUX_DEVTOOLS_EXTENSION__||r.dqk.devToolsExtension,this.unsubscribe=null,this.connect()}ngOnDestroy(){null!==this.unsubscribe&&this.unsubscribe(),this.globalDevtools&&this.globalDevtools.disconnect()}get store(){return this._injector.get(D.yh)}handle(T,I,G){return!this.devtoolsExtension||this._options.disabled?G(T,I):G(T,I).pipe((0,x.K)($=>{const K=this.store.snapshot();throw this.sendToDevTools(T,I,K),$}),(0,E.b)($=>{this.sendToDevTools(T,I,$)}))}sendToDevTools(T,I,G){const $=(0,D.f4)(I);"@@INIT"===$?this.devtoolsExtension.init(T):this.devtoolsExtension.send(Object.assign({},I,{action:null,type:$}),G)}dispatched(T){if("DISPATCH"===T.type){if("JUMP_TO_ACTION"===T.payload.type||"JUMP_TO_STATE"===T.payload.type){const I=JSON.parse(T.state);I.router&&I.router.trigger&&(I.router.trigger="devtools"),this.store.reset(I)}else if("TOGGLE_ACTION"===T.payload.type)console.warn("Skip is not supported at this time.");else if("IMPORT_STATE"===T.payload.type){const{actionsById:I,computedStates:G,currentStateIndex:$}=T.payload.nextLiftedState;this.devtoolsExtension.init(G[0].state),Object.keys(I).filter(K=>"0"!==K).forEach(K=>this.devtoolsExtension.send(I[K],G[K].state)),this.store.reset(G[$].state)}}else if("ACTION"===T.type){const I=JSON.parse(T.payload);this.store.dispatch(I)}}connect(){!this.globalDevtools||this._options.disabled||(this.devtoolsExtension=this._ngZone.runOutsideAngular(()=>this.globalDevtools.connect(this._options)),this.unsubscribe=this.devtoolsExtension.subscribe(T=>{("DISPATCH"===T.type||"ACTION"===T.type)&&this._ngZone.run(()=>{this.dispatched(T)})}))}}return _.\u0275fac=function(T){return new(T||_)(r.LFG(y),r.LFG(r.zs3),r.LFG(r.R0b))},_.\u0275prov=r.Yz7({token:_,factory:_.\u0275fac}),_})();function V(_){return Object.assign({name:"NGXS"},_)}const W=new r.OlP("USER_OPTIONS");let L=(()=>{class _{static forRoot(T){return{ngModule:_,providers:[{provide:D.fN,useClass:U,multi:!0},{provide:W,useValue:T},{provide:y,useFactory:V,deps:[W]}]}}}return _.\u0275fac=function(T){return new(T||_)},_.\u0275mod=r.oAB({type:_}),_.\u0275inj=r.cJS({}),_})()},5980:(H,F,u)=>{u.d(F,{aU:()=>Ve,XP:()=>me,fN:()=>ce,$l:()=>k,Ph:()=>qe,ZM:()=>Ye,yh:()=>Tt,f4:()=>ut});var r=u(2717),D=u(7579),x=u(6063);class E extends D.x{constructor(n=1/0,e=1/0,s=x.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:s,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:l}=this;e||(s.push(n),!o&&s.push(c.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:s,_buffer:o}=this,c=o.slice();for(let l=0;l<c.length&&!n.closed;l+=s?1:2)n.next(c[l]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:o}=this,c=(o?1:2)*n;if(n<1/0&&c<s.length&&s.splice(0,s.length-c),!o){const l=e.now();let m=0;for(let v=1;v<s.length&&s[v]<=l;v+=2)m=v;m&&s.splice(0,m+1)}}}let p=(()=>{class t{constructor(){this.bootstrap$=new E(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function g(t,n){return t===n}function y(t,n,e){if(null===n||null===e||n.length!==e.length)return!1;const s=n.length;for(let o=0;o<s;o++)if(!t(n[o],e[o]))return!1;return!0}const b=new r.OlP("INITIAL_STATE_TOKEN");let U=(()=>{class t{static set(e){this.value=e}static pop(){const e=this.value;return this.value={},e}}return t.value={},t})();const V=new r.OlP("Internals.StateContextFactory"),W=new r.OlP("Internals.StateFactory");var L=u(6895),_=u(8306);class rt extends D.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:s}=this;if(n)throw e;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}var T=u(7669),I=u(457);function G(...t){const n=(0,T.yG)(t);return(0,I.D)(t,n)}const{isArray:$}=Array,{getPrototypeOf:K,prototype:kt,keys:gt}=Object;var it=u(8421),Y=u(5403),Wt=u(3268);function yt(t,n){return t.reduce((e,s,o)=>(e[s]=n[o],e),{})}function at(...t){const n=(0,T.jO)(t),{args:e,keys:s}=function It(t){if(1===t.length){const n=t[0];if($(n))return{args:n,keys:null};if(function Ht(t){return t&&"object"==typeof t&&K(t)===kt}(n)){const e=gt(n);return{args:e.map(s=>n[s]),keys:e}}}return{args:t,keys:null}}(t),o=new _.y(c=>{const{length:l}=e;if(!l)return void c.complete();const m=new Array(l);let v=l,P=l;for(let M=0;M<l;M++){let w=!1;(0,it.Xf)(e[M]).subscribe((0,Y.x)(c,z=>{w||(w=!0,P--),m[M]=z},()=>v--,void 0,()=>{(!v||!w)&&(P||c.next(s?yt(s,m):m),c.complete())}))}});return n?o.pipe((0,Wt.Z)(n)):o}var Pt=u(576);function tt(t,n){const e=(0,Pt.m)(t)?t:()=>t,s=o=>o.error(e());return new _.y(n?o=>n.schedule(s,0,o):s)}var St=u(515),xt=u(4408),vt=u(7565);const $t=new class mt extends vt.v{}(class Q extends xt.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,s=0){return null!=s&&s>0||null==s&&this.delay>0?super.requestAsyncId(n,e,s):(n.flush(this),0)}});var et=u(9300),nt=u(4004),Ft=u(3099);function q(t,n,e){let s,o=!1;return t&&"object"==typeof t?({bufferSize:s=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):s=t??1/0,(0,Ft.B)({connector:()=>new E(s,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var st=u(4482);function Et(t){return t<=0?()=>St.E:(0,st.e)((n,e)=>{let s=0;n.subscribe((0,Y.x)(e,o=>{++s<=t&&(e.next(o),t<=s&&e.complete())}))})}function Nt(t,n){return n?e=>e.pipe(Nt((s,o)=>(0,it.Xf)(t(s,o)).pipe((0,nt.U)((c,l)=>n(s,c,o,l))))):(0,st.e)((e,s)=>{let o=0,c=null,l=!1;e.subscribe((0,Y.x)(s,m=>{c||(c=(0,Y.x)(s,void 0,()=>{c=null,l&&s.complete()}),(0,it.Xf)(t(m,o++)).subscribe(c))},()=>{l=!0,!c&&s.complete()}))})}var Ot=u(5577);function Mt(t){return(0,st.e)((n,e)=>{let s=!1;n.subscribe((0,Y.x)(e,o=>{s=!0,e.next(o)},()=>{s||e.next(t),e.complete()}))})}var Dt=u(262),Vt=u(5032);function _t(t){return(0,st.e)((n,e)=>{(0,it.Xf)(t).subscribe((0,Y.x)(e,()=>e.complete(),Vt.Z)),!e.closed&&n.subscribe(e)})}var wt=u(8505),ot=u(5363),Yt=u(4671);function Rt(t,n){return t===n}class B{constructor(n,e){this._ngZone=n,this._platformId=e}enter(n){return(0,L.PM)(this._platformId)?this.runInsideAngular(n):this.runOutsideAngular(n)}leave(n){return this.runInsideAngular(n)}runInsideAngular(n){return r.R0b.isInAngularZone()?n():this._ngZone.run(n)}runOutsideAngular(n){return r.R0b.isInAngularZone()?this._ngZone.runOutsideAngular(n):n()}}B.\u0275fac=function(n){return new(n||B)(r.LFG(r.R0b),r.LFG(r.Lbi))},B.\u0275prov=r.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B.ngInjectableDef=(0,r.Ez6)({factory:function(){return new B((0,r.f3M)(r.R0b),(0,r.f3M)(r.Lbi))},token:B,providedIn:"root"});const ie=new r.OlP("ROOT_STATE_TOKEN"),ae=new r.OlP("FEATURE_STATE_TOKEN"),ce=new r.OlP("NGXS_PLUGINS"),Z="NGXS_META",ue="NGXS_OPTIONS_META";let ct=(()=>{class t{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=B}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Ee{constructor(n,e,s){this.previousValue=n,this.currentValue=e,this.firstChange=s}}class J{enter(n){return n()}leave(n){return n()}}J.\u0275fac=function(n){return new(n||J)},J.\u0275prov=r.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J.ngInjectableDef=(0,r.Ez6)({factory:function(){return new J},token:J,providedIn:"root"});const le=new r.OlP("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),Oe=new r.OlP("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const t=(0,r.f3M)(r.gxx),n=t.get(le);return t.get(n||(typeof r.dqk.Zone<"u"?B:J))}});function ut(t){return t.constructor&&t.constructor.type?t.constructor.type:t.type}const fe=(t,n,e)=>{t=Object.assign({},t);const s=n.split("."),o=s.length-1;return s.reduce((c,l,m)=>(c[l]=m===o?e:Array.isArray(c[l])?c[l].slice():Object.assign({},c[l]),c&&c[l]),t),t},Lt=(t,n)=>n.split(".").reduce((e,s)=>e&&e[s],t),Jt=t=>t&&"object"==typeof t&&!Array.isArray(t),Qt=(t,...n)=>{if(!n.length)return t;const e=n.shift();if(Jt(t)&&Jt(e))for(const s in e)Jt(e[s])?(t[s]||Object.assign(t,{[s]:{}}),Qt(t[s],e[s])):Object.assign(t,{[s]:e[s]});return Qt(t,...n)};function qt(t){if(!t.hasOwnProperty(Z)){const n={name:null,actions:{},defaults:{},path:null,makeRootSelector:e=>e.getStateGetter(n.name),children:[]};Object.defineProperty(t,Z,{value:n})}return lt(t)}function lt(t){return t[Z]}function de(t,n){return n&&n.compatibility&&n.compatibility.strictContentSecurityPolicy?function Me(t){const n=t.slice();return e=>n.reduce((s,o)=>s&&s[o],e)}(t):function De(t){const n=t;let e="store."+n[0],s=0;const o=n.length;let c=e;for(;++s<o;)c=c+" && "+(e=e+"."+n[s]);return new Function("store","return "+c+";")}(t)}function he(t,n){const e=Lt(n.currentAppState,t.path),s=Lt(n.newAppState,t.path);return new Ee(e,s,!t.isInitialised)}function Pe(...t){return function ft(t,n,e=Ne){const s=function we(t){return t.reduce((n,e)=>(n[ut(e)]=!0,n),{})}(t),o=n&&function Re(t){return t.reduce((n,e)=>(n[e]=!0,n),{})}(n);return function(c){return c.pipe(function xe(t,n){return(0,et.h)(e=>{const s=ut(e.action);return t[s]&&(!n||n[e.status])})}(s,o),e())}}(t,["DISPATCHED"])}function Ne(){return(0,nt.U)(t=>t.action)}function At(t){return n=>new _.y(e=>n.subscribe({next(s){t.leave(()=>e.next(s))},error(s){t.leave(()=>e.error(s))},complete(){t.leave(()=>e.complete())}}))}let Gt=(()=>{class t{constructor(e){this._executionStrategy=e}enter(e){return this._executionStrategy.enter(e)}leave(e){return this._executionStrategy.leave(e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Oe))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class be extends D.x{constructor(){super(...arguments),this._itemQueue=[],this._busyPushingNext=!1}next(n){if(this._busyPushingNext)this._itemQueue.unshift(n);else{for(this._busyPushingNext=!0,super.next(n);this._itemQueue.length>0;){const e=this._itemQueue.pop();super.next(e)}this._busyPushingNext=!1}}}let Ut=(()=>{class t extends be{}return t.\u0275fac=function(){let n;return function(s){return(n||(n=r.n5z(t)))(s||t)}}(),t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Le=(()=>{class t extends _.y{constructor(e,s){super(o=>{const c=e.pipe(At(s)).subscribe({next:l=>o.next(l),error:l=>o.error(l),complete:()=>o.complete()});o.add(c)})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ut),r.LFG(Gt))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const pe=t=>(...n)=>t.shift()(...n,(...s)=>pe(t)(...s));let Bt=(()=>{class t extends rt{constructor(){super({})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ne=(()=>{class t{constructor(e,s){this._parentManager=e,this._pluginHandlers=s,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const e=this.getPluginHandlers();this.rootPlugins.push(...e)}getPluginHandlers(){return(this._pluginHandlers||[]).map(s=>s.handle?s.handle.bind(s):s)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12),r.LFG(ce,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),se=(()=>{class t extends D.x{}return t.\u0275fac=function(){let n;return function(s){return(n||(n=r.n5z(t)))(s||t)}}(),t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ge=(()=>{class t{constructor(e,s,o,c,l,m){this._injector=e,this._actions=s,this._actionResults=o,this._pluginManager=c,this._stateStream=l,this._ngxsExecutionStrategy=m}dispatch(e){const s=this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(e));return s.subscribe({error:o=>this._ngxsExecutionStrategy.leave(()=>{try{this._errorHandler=this._errorHandler||this._injector.get(r.qLn),this._errorHandler.handleError(o)}catch{}})}),s.pipe(At(this._ngxsExecutionStrategy))}dispatchByEvents(e){return Array.isArray(e)?0===e.length?G(this._stateStream.getValue()):at(e.map(s=>this.dispatchSingle(s))):this.dispatchSingle(e)}dispatchSingle(e){const s=this._stateStream.getValue();return pe([...this._pluginManager.plugins,(c,l)=>{c!==s&&this._stateStream.next(c);const m=this.getActionResultStream(l);return m.subscribe(v=>this._actions.next(v)),this._actions.next({action:l,status:"DISPATCHED"}),this.createDispatchObservable(m)}])(s,e).pipe(q())}getActionResultStream(e){return this._actionResults.pipe((0,et.h)(s=>s.action===e&&"DISPATCHED"!==s.status),Et(1),q())}createDispatchObservable(e){return e.pipe(Nt(s=>{switch(s.status){case"SUCCESSFUL":return G(this._stateStream.getValue());case"ERRORED":return tt(s.error);default:return St.E}})).pipe(q())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3),r.LFG(Ut),r.LFG(se),r.LFG(ne),r.LFG(Bt),r.LFG(Gt))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),dt=(()=>{class t{constructor(e,s,o){this._stateStream=e,this._dispatcher=s,this._config=o}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:s=>this._stateStream.next(s),dispatch:s=>this._dispatcher.dispatch(s)}}setStateToTheCurrentWithNew(e){const s=this.getRootStateOperations(),o=s.getState();s.setState(Object.assign({},o,e.defaults))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Bt),r.LFG(ge),r.LFG(ct))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();let zt=(()=>{class t{constructor(e){this._internalStateOperations=e}createStateContext(e){const s=this._internalStateOperations.getRootStateOperations();function o(v){return Lt(v,e.path)}function c(v,P){const M=fe(v,e.path,P),w=e.instance;if(w.ngxsOnChanges){const z=he(e,{currentAppState:v,newAppState:M});w.ngxsOnChanges(z)}return s.setState(M),M}function l(v,P){return c(v,P(o(v)))}return{getState:()=>o(s.getState()),patchState:v=>l(s.getState(),function Ge(t){return n=>{Array.isArray(t)?function X(){throw new Error("Patching arrays is not supported.")}():"object"!=typeof t&&function N(){throw new Error("Patching primitives is not supported.")}();const e=Object.assign({},n);for(const s in t)e[s]=t[s];return e}}(v)),setState(v){const P=s.getState();return function m(v){return"function"==typeof v}(v)?l(P,v):c(P,v)},dispatch:v=>s.dispatch(v)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(dt))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();new RegExp("^[a-zA-Z0-9_]+$");let ht=(()=>{class t{constructor(e,s,o,c,l,m,v){this._injector=e,this._config=s,this._parentFactory=o,this._actions=c,this._actionResults=l,this._stateContextFactory=m,this._initialState=v,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=function S(t,n=g){let e=null,s=null;function o(){return y(n,e,arguments)||(s=t.apply(null,arguments)),e=arguments,s}return o.reset=function(){e=null,s=null},o}(()=>{const P=this;function M(z){const j=P.statePaths[z];return j?de(j.split("."),P._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(z){let j=M(z);return j||((...pt)=>(j||(j=M(z)),j?j(...pt):void 0))},getSelectorOptions:z=>Object.assign({},P._config.selectorOptions,z||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static cloneDefaults(e){let s={};return s=Array.isArray(e)?e.slice():function Ie(t){return"object"==typeof t&&null!==t||"function"==typeof t}(e)?Object.assign({},e):void 0===e?{}:e,s}ngOnDestroy(){this._actionsSubscription.unsubscribe()}add(e){const{newStates:s}=this.addToStatesMap(e);if(!s.length)return[];const o=function _e(t){const n=e=>t.find(o=>o===e)[Z].name;return t.reduce((e,s)=>{const{name:o,children:c}=s[Z];return e[o]=(c||[]).map(n),e},{})}(s),c=function Ce(t){const n=[],e={},s=(o,c=[])=>{Array.isArray(c)||(c=[]),c.push(o),e[o]=!0,t[o].forEach(l=>{e[l]||s(l,c.slice(0))}),n.indexOf(o)<0&&n.push(o)};return Object.keys(t).forEach(o=>s(o)),n.reverse()}(o),l=function Te(t,n={}){const e=(s,o)=>{for(const c in s)if(s.hasOwnProperty(c)&&s[c].indexOf(o)>=0){const l=e(s,c);return null!==l?`${l}.${c}`:c}return null};for(const s in t)if(t.hasOwnProperty(s)){const o=e(t,s);n[s]=o?`${o}.${s}`:s}return n}(o),m=function Ae(t){return t.reduce((n,e)=>(n[e[Z].name]=e,n),{})}(s),v=[];for(const P of c){const M=m[P],w=l[P],z=M[Z];this.addRuntimeInfoToMeta(z,w);const j={name:P,path:w,isInitialised:!1,actions:z.actions,instance:this._injector.get(M),defaults:t.cloneDefaults(z.defaults)};this.hasBeenMountedAndBootstrapped(P,w)||v.push(j),this.states.push(j)}return v}addAndReturnDefaults(e){const o=this.add(e||[]);return{defaults:o.reduce((l,m)=>fe(l,m.path,m.defaults),{}),states:o}}connectActionHandlers(){if(null!==this._actionsSubscription)return;const e=new D.x;this._actionsSubscription=this._actions.pipe((0,et.h)(s=>"DISPATCHED"===s.status),(0,Ot.z)(s=>{e.next(s);const o=s.action;return this.invokeActions(e,o).pipe((0,nt.U)(()=>({action:o,status:"SUCCESSFUL"})),Mt({action:o,status:"CANCELED"}),(0,Dt.K)(c=>G({action:o,status:"ERRORED",error:c})))})).subscribe(s=>this._actionResults.next(s))}invokeActions(e,s){const o=ut(s),c=[];for(const l of this.states){const m=l.actions[o];if(m)for(const v of m){const P=this._stateContextFactory.createStateContext(l);try{let M=l.instance[v.fn](P,s);M instanceof Promise&&(M=(0,I.D)(M)),M instanceof _.y?(M=M.pipe((0,Ot.z)(w=>w instanceof Promise?(0,I.D)(w):w instanceof _.y?w:G(w)),Mt({})),v.options.cancelUncompleted&&(M=M.pipe(_t(e.pipe(Pe(s)))))):M=G({}).pipe(q()),c.push(M)}catch(M){c.push(tt(M))}}}return c.length||c.push(G({})),at(c)}addToStatesMap(e){const s=[],o=this.statesByName;for(const c of e){const l=lt(c).name;!o[l]&&(s.push(c),o[l]=c)}return{newStates:s}}addRuntimeInfoToMeta(e,s){this.statePaths[e.name]=s,e.path=s}hasBeenMountedAndBootstrapped(e,s){const o=void 0!==Lt(this._initialState,s);return this.statesByName[e]&&o}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3),r.LFG(ct),r.LFG(t,12),r.LFG(Ut),r.LFG(se),r.LFG(zt),r.LFG(b,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),oe=(()=>{class t{constructor(e,s,o){this.internalStateOperations=e,this.stateContextFactory=s,this.bootstrapper=o}ngxsBootstrap(e,s){this.internalStateOperations.getRootStateOperations().dispatch(e).pipe((0,et.h)(()=>!!s),(0,wt.b)(()=>this.invokeInit(s.states)),(0,Ot.z)(()=>this.bootstrapper.appBootstrapped$),(0,et.h)(o=>!!o)).subscribe(()=>this.invokeBootstrap(s.states))}invokeInit(e){for(const s of e){const o=s.instance;if(o.ngxsOnChanges){const m=he(s,{currentAppState:{},newAppState:this.internalStateOperations.getRootStateOperations().getState()});o.ngxsOnChanges(m)}o.ngxsOnInit&&o.ngxsOnInit(this.getStateContext(s)),s.isInitialised=!0}}invokeBootstrap(e){for(const s of e){const o=s.instance;o.ngxsAfterBootstrap&&o.ngxsAfterBootstrap(this.getStateContext(s))}}getStateContext(e){return this.stateContextFactory.createStateContext(e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(dt),r.LFG(zt),r.LFG(p))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();let Tt=(()=>{class t{constructor(e,s,o,c,l,m){this._stateStream=e,this._internalStateOperations=s,this._config=o,this._internalExecutionStrategy=c,this._stateFactory=l,this._selectableStateStream=this._stateStream.pipe((0,ot.Q)($t),At(this._internalExecutionStrategy),q({bufferSize:1,refCount:!0})),this.initStateStream(m)}dispatch(e){return this._internalStateOperations.getRootStateOperations().dispatch(e)}select(e){const s=this.getStoreBoundSelectorFn(e);return this._selectableStateStream.pipe((0,nt.U)(s),(0,Dt.K)(o=>{const{suppressErrors:c}=this._config.selectorOptions;return o instanceof TypeError&&c?G(void 0):tt(o)}),function Xt(t,n=Yt.y){return t=t??Rt,(0,st.e)((e,s)=>{let o,c=!0;e.subscribe((0,Y.x)(s,l=>{const m=n(l);(c||!t(o,m))&&(c=!1,o=m,s.next(l))}))})}(),At(this._internalExecutionStrategy))}selectOnce(e){return this.select(e).pipe(Et(1))}selectSnapshot(e){return this.getStoreBoundSelectorFn(e)(this._stateStream.getValue())}subscribe(e){return this._selectableStateStream.pipe(At(this._internalExecutionStrategy)).subscribe(e)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(e){return this._internalStateOperations.getRootStateOperations().setState(e)}getStoreBoundSelectorFn(e){return function ve(t){const n=function ee(t){return t.NGXS_SELECTOR_META}(t)||lt(t);return n&&n.makeRootSelector||(()=>t)}(e)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(e){const s=this._stateStream.value;if(!s||0===Object.keys(s).length){const l=Object.keys(this._config.defaultsState).length>0?Object.assign({},this._config.defaultsState,e):e;this._stateStream.next(l)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Bt),r.LFG(dt),r.LFG(ct),r.LFG(Gt),r.LFG(ht),r.LFG(b,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Ct=(()=>{class t{constructor(e,s){t.store=e,t.config=s}ngOnDestroy(){t.store=null,t.config=null}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Tt),r.LFG(ct))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t.store=null,t.config=null,t})();class me{static get type(){return"@@INIT"}}class We{constructor(n){this.addedStates=n}static get type(){return"@@UPDATE_STATE"}}let $e=(()=>{class t{constructor(e,s,o,c,l=[],m){const v=e.addAndReturnDefaults(l);s.setStateToTheCurrentWithNew(v),e.connectActionHandlers(),m.ngxsBootstrap(new me,v)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ht),r.LFG(dt),r.LFG(Tt),r.LFG(Ct),r.LFG(ie,8),r.LFG(oe))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),Ke=(()=>{class t{constructor(e,s,o,c=[],l){const m=t.flattenStates(c),v=o.addAndReturnDefaults(m);v.states.length&&(s.setStateToTheCurrentWithNew(v),l.ngxsBootstrap(new We(v.defaults),v))}static flattenStates(e=[]){return e.reduce((s,o)=>s.concat(o),[])}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Tt),r.LFG(dt),r.LFG(ht),r.LFG(ae,8),r.LFG(oe))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();class k{static forRoot(n=[],e={}){return{ngModule:$e,providers:[ht,zt,Le,Ut,p,oe,ge,se,dt,Gt,Tt,Bt,Ct,ne,...n,...k.ngxsTokenProviders(n,e)]}}static forFeature(n=[]){return{ngModule:Ke,providers:[ht,ne,...n,{provide:ae,multi:!0,useValue:n}]}}static ngxsTokenProviders(n,e){return[{provide:le,useValue:e.executionStrategy},{provide:ie,useValue:n},{provide:k.ROOT_OPTIONS,useValue:e},{provide:ct,useFactory:k.ngxsConfigFactory,deps:[k.ROOT_OPTIONS]},{provide:r.tb,useFactory:k.appBootstrapListenerFactory,multi:!0,deps:[p]},{provide:b,useFactory:k.getInitialState},{provide:V,useExisting:zt},{provide:W,useExisting:ht}]}static ngxsConfigFactory(n){return Qt(new ct,n)}static appBootstrapListenerFactory(n){return()=>n.bootstrap()}static getInitialState(){return U.pop()}}function Ve(t,n){return(e,s)=>{const o=qt(e.constructor);Array.isArray(t)||(t=[t]);for(const c of t){const l=c.type;o.actions[l]||(o.actions[l]=[]),o.actions[l].push({fn:s,options:n||{},type:l})}}}function Ye(t){return s=>{const o=s,c=qt(o),l=Object.getPrototypeOf(o),m=function n(s){return Object.assign({},s[ue]||{},t)}(l);(function e(s){const{meta:o,inheritedStateClass:c,optionsWithInheritance:l}=s,{children:m,defaults:v,name:P}=l,M="string"==typeof P?P:P&&P.getName()||null;c.hasOwnProperty(Z)&&(o.actions=Object.assign({},o.actions,(c[Z]||{}).actions)),o.children=m,o.defaults=v,o.name=M})({meta:c,inheritedStateClass:l,optionsWithInheritance:m}),o[ue]=m}}function qe(t,...n){return function(e,s){const o=s.toString(),c=`__${o}__selector`,l=function Je(t,n,e=[]){return n=n||function Qe(t){const n=t.length-1;return 36===t.charCodeAt(n)?t.slice(0,n):t}(t),"string"==typeof n?de(e.length?[n,...e]:n.split("."),Ct.config):n}(o,t,n);Object.defineProperties(e,{[c]:{writable:!0,enumerable:!1,configurable:!0},[o]:{enumerable:!0,configurable:!0,get(){return this[c]||(this[c]=function Ze(t){return Ct.store||function R(){throw new Error("You have forgotten to import the NGXS module!")}(),Ct.store.select(t)}(l))}}})}}k.\u0275fac=function(n){return new(n||k)},k.\u0275mod=r.oAB({type:k}),k.\u0275inj=r.cJS({}),k.ROOT_OPTIONS=new r.OlP("ROOT_OPTIONS")},262:(H,F,u)=>{u.d(F,{K:()=>E});var r=u(8421),D=u(5403),x=u(4482);function E(O){return(0,x.e)((p,g)=>{let b,y=null,S=!1;y=p.subscribe((0,D.x)(g,void 0,void 0,U=>{b=(0,r.Xf)(O(U,E(O)(p))),y?(y.unsubscribe(),y=null,b.subscribe(g)):S=!0})),S&&(y.unsubscribe(),y=null,b.subscribe(g))})}},9300:(H,F,u)=>{u.d(F,{h:()=>x});var r=u(4482),D=u(5403);function x(E,O){return(0,r.e)((p,g)=>{let y=0;p.subscribe((0,D.x)(g,S=>E.call(O,S,y++)&&g.next(S)))})}},8505:(H,F,u)=>{u.d(F,{b:()=>O});var r=u(576),D=u(4482),x=u(5403),E=u(4671);function O(p,g,y){const S=(0,r.m)(p)||g||y?{next:p,error:g,complete:y}:p;return S?(0,D.e)((b,U)=>{var V;null===(V=S.subscribe)||void 0===V||V.call(S);let W=!0;b.subscribe((0,x.x)(U,L=>{var _;null===(_=S.next)||void 0===_||_.call(S,L),U.next(L)},()=>{var L;W=!1,null===(L=S.complete)||void 0===L||L.call(S),U.complete()},L=>{var _;W=!1,null===(_=S.error)||void 0===_||_.call(S,L),U.error(L)},()=>{var L,_;W&&(null===(L=S.unsubscribe)||void 0===L||L.call(S)),null===(_=S.finalize)||void 0===_||_.call(S)}))}):E.y}},4408:(H,F,u)=>{u.d(F,{o:()=>O});var r=u(727);class D extends r.w0{constructor(g,y){super()}schedule(g,y=0){return this}}const x={setInterval(p,g,...y){const{delegate:S}=x;return S?.setInterval?S.setInterval(p,g,...y):setInterval(p,g,...y)},clearInterval(p){const{delegate:g}=x;return(g?.clearInterval||clearInterval)(p)},delegate:void 0};var E=u(8737);class O extends D{constructor(g,y){super(g,y),this.scheduler=g,this.work=y,this.pending=!1}schedule(g,y=0){var S;if(this.closed)return this;this.state=g;const b=this.id,U=this.scheduler;return null!=b&&(this.id=this.recycleAsyncId(U,b,y)),this.pending=!0,this.delay=y,this.id=null!==(S=this.id)&&void 0!==S?S:this.requestAsyncId(U,this.id,y),this}requestAsyncId(g,y,S=0){return x.setInterval(g.flush.bind(g,this),S)}recycleAsyncId(g,y,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return y;null!=y&&x.clearInterval(y)}execute(g,y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(g,y);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,y){let b,S=!1;try{this.work(g)}catch(U){S=!0,b=U||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),b}unsubscribe(){if(!this.closed){const{id:g,scheduler:y}=this,{actions:S}=y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,E.P)(S,this),null!=g&&(this.id=this.recycleAsyncId(y,g,null)),this.delay=null,super.unsubscribe()}}}},7565:(H,F,u)=>{u.d(F,{v:()=>x});var r=u(6063);class D{constructor(O,p=D.now){this.schedulerActionCtor=O,this.now=p}schedule(O,p=0,g){return new this.schedulerActionCtor(this,O).schedule(g,p)}}D.now=r.l.now;class x extends D{constructor(O,p=D.now){super(O,p),this.actions=[],this._active=!1}flush(O){const{actions:p}=this;if(this._active)return void p.push(O);let g;this._active=!0;do{if(g=O.execute(O.state,O.delay))break}while(O=p.shift());if(this._active=!1,g){for(;O=p.shift();)O.unsubscribe();throw g}}}},6063:(H,F,u)=>{u.d(F,{l:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},3268:(H,F,u)=>{u.d(F,{Z:()=>E});var r=u(4004);const{isArray:D}=Array;function E(O){return(0,r.U)(p=>function x(O,p){return D(p)?O(...p):O(p)}(O,p))}},1035:(H,F,u)=>{u.d(F,{_F:()=>mt,yz:()=>ot,KA:()=>bt});var r=u(2717),D=u(5980),x=u(515),E=u(8306),O=u(4408);const g=new(u(7565).v)(O.o);var S=u(4482),b=u(5403),V=u(8505),W=u(4004),L=u(9300),_=u(8421),rt=u(5577),T=u(1144),I=u(576),G=u(3268);const $=["addListener","removeListener"],K=["addEventListener","removeEventListener"],kt=["on","off"];function gt(i,f,a,d){if((0,I.m)(a)&&(d=a,a=void 0),d)return gt(i,f,a).pipe((0,G.Z)(d));const[h,A]=function Y(i){return(0,I.m)(i.addEventListener)&&(0,I.m)(i.removeEventListener)}(i)?K.map(C=>R=>i[C](f,R,a)):function Ht(i){return(0,I.m)(i.addListener)&&(0,I.m)(i.removeListener)}(i)?$.map(It(i,f)):function it(i){return(0,I.m)(i.on)&&(0,I.m)(i.off)}(i)?kt.map(It(i,f)):[];if(!h&&(0,T.z)(i))return(0,rt.z)(C=>gt(C,f,a))((0,_.Xf)(i));if(!h)throw new TypeError("Invalid event target");return new E.y(C=>{const R=(...X)=>C.next(1<X.length?X:X[0]);return h(R),()=>A(R)})}function It(i,f){return a=>d=>i[a](f,d)}var Wt=u(7579);const yt="GET_STORE",at="STORE_UPATE",Pt="STORE_INIT",tt="ACTION_DISPATCHED",St=new r.OlP("STATE_FILTER"),xt=new r.OlP("BROADCAST_CHANNEL_NAME");class Q{}const vt=new r.OlP("ALLOWED_ORIGIN"),mt=new r.OlP("KNOWN_ACTION"),$t=new r.OlP("DEBOUNCE_TIME");function*Kt(i,f,a=new WeakSet,d=""){if("object"==typeof i&&i){if(a.has(i))return;a.add(i)}if("object"!=typeof i||null===i||"object"!=typeof f||null===f)i!==f&&(yield{key:d,operation:"update",value:f});else{for(let h in i){const A=d+h;i[h]!==f[h]&&(!(h in f)||typeof f[h]>"u"||null===f[h]?yield{key:A,operation:"remove"}:typeof i[h]!=typeof f[h]||"object"!=typeof i[h]?yield{key:A,operation:"update",value:f[h]}:yield*Kt(i[h],f[h],a,`${d}${h}.`))}for(let h in f){const A=d+h;!(h in i)&&typeof f[h]<"u"&&null!==f[h]&&(yield{key:A,operation:"add",value:f[A]})}}}let nt=(()=>{class i{constructor(a){this.payload=a}}return i.type="@@MESSAGE",i})(),Ft=(()=>{class i{constructor(a){this.payload=a}}return i.type="@@INIT_MESSAGE",i})(),q=(()=>{class i{constructor(a,d){this.commsService=a,this.store=d,this.init=()=>{this.subscription&&(console.warn("ChildHandler is already initiated, will re-initiate"),this.subscription.unsubscribe()),this.subscription=this.commsService.messages$.subscribe(h=>{h.type===at?this.store.dispatch(new nt(h.payload)):h.type===Pt&&this.store.dispatch(new Ft(h.payload))}),this.commsService.postMessage({type:yt})}}ngOnDestroy(){this.subscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)(r.LFG(Q),r.LFG(D.yh))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i})(),st=(()=>{class i{constructor(a){this.commsService=a}handle(a,d,h){if(d instanceof D.XP)return h(a,d);if(d instanceof nt){if(d.payload.length>0){const A=function et(i,f){let a={...i};for(let d of f){const h=d.key.split(".");let A=a;for(let R of h.slice(0,-1))A=A[R]={...A[R]};let C=h.at(-1);switch(d.operation){case"add":case"update":A[C]=d.value;break;case"remove":delete A[C]}}return a}(a,d.payload);return h(A,d)}}else{if(d instanceof Ft)return h(d.payload,d);this.commsService.postMessage({type:tt,actionType:d.constructor?.type,action:d})}return x.E}}return i.\u0275fac=function(a){return new(a||i)(r.LFG(Q))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i})(),Et=(()=>{class i{constructor(a,d,h,A,C){this.store=a,this.commsService=d,this.stateFilter=h,this.debounce=C,this.subscriptions=[],this.init=()=>{if(this.subscriptions.length)for(console.warn("HostHandler is already initiated, will re-initiate");this.subscriptions.length;)this.subscriptions.pop()?.unsubscribe();let R;this.subscriptions.push(this.commsService.messages$.subscribe(N=>{switch(N.type){case tt:this.onActionDispatched(N.actionType,N.action);break;case yt:this.onGetStore()}}));const X=new E.y(N=>{const B=this.store.subscribe(re=>{N.next(re)});return()=>B.unsubscribe()});this.subscriptions.push(X.pipe(this.debounce?function U(i,f=g){return(0,S.e)((a,d)=>{let h=null,A=null,C=null;const R=()=>{if(h){h.unsubscribe(),h=null;const N=A;A=null,d.next(N)}};function X(){const N=C+i,B=f.now();if(B<N)return h=this.schedule(void 0,N-B),void d.add(h);R()}a.subscribe((0,b.x)(d,N=>{A=N,C=f.now(),h||(h=f.schedule(X,i),d.add(h))},()=>{R(),d.complete()},void 0,()=>{A=h=null}))})}(this.debounce):(0,V.b)(()=>{}),(0,W.U)(N=>this.filterState(N)),(0,W.U)(N=>{const B=Array.from(Kt(R,N));return R=N,B}),(0,L.h)(N=>N.length>0)).subscribe(N=>{this.commsService.postMessage({type:at,payload:N})}))},this.debounce??(this.debounce=100),this.knownActions=new Map(A?.flat().map(R=>[R.type,R]))}filterState(a){if("function"==typeof this.stateFilter)return this.stateFilter(a);if(this.stateFilter instanceof RegExp){const d=this.stateFilter;return Object.fromEntries(Object.entries(a).filter(([h])=>d.test(h)))}return a}onGetStore(){this.commsService.postMessage({type:Pt,payload:this.filterState(this.store.snapshot())})}onActionDispatched(a,d){var h;if(a){const A=this.knownActions.get(a),C=A?Object.create(A.prototype):new((h=class{}).type=a,h);this.store.dispatch(Object.assign(C,d))}else this.store.dispatch(d)}ngOnDestroy(){for(const a of this.subscriptions)a.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)(r.LFG(D.yh),r.LFG(Q),r.LFG(St,8),r.LFG(mt,8),r.LFG($t,8))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i})();function Dt(i){if("string"==typeof i?.data?.type){switch(i.data.type){case tt:case yt:case at:break;default:console.warn("Unknown message type.",i.data)}return!0}return console.warn("Invalid message event",i),!1}let Vt=(()=>{class i{constructor(a){this.channel=new BroadcastChannel(a),this.messages$=gt(this.channel,"message").pipe((0,L.h)(Dt),(0,W.U)(d=>d.data))}postMessage(a){this.channel.postMessage(a)}}return i.\u0275fac=function(a){return new(a||i)(r.LFG(xt))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i})();const _t="PORT_SETUP",wt="PORT_TEARDOWN";let ot=(()=>{class i{constructor(){this.$messages=new Wt.x,this.ports=new Map,this.messages$=this.$messages.asObservable(),this.eventSourcesChanged=new r.vpe,this.handleMessage=a=>{if(a.data===wt){const d=a.source??a.target;d&&(this.ports.delete(d),d.removeEventListener("message",this.handleMessage),d.close())}else Dt(a)&&this.$messages.next(a.data)},window.addEventListener("unload",()=>this.ngOnDestroy(!1))}get eventSources(){return this.ports.values()}addPort(a,d){this.ports.set(a,d),this.eventSourcesChanged.emit(),a.addEventListener("message",this.handleMessage),a.start()}removePort(a,d=!0){a.postMessage(wt),a.removeEventListener("message",this.handleMessage),a.close(),d&&(this.ports.delete(a),this.eventSourcesChanged.emit())}ngOnDestroy(a=!0){for(const d of this.ports.keys())this.removePort(d,!1);a&&this.ports.clear(),this.$messages.complete()}postMessage(a){for(const d of this.ports.keys())d.postMessage(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i})(),Yt=(()=>{class i extends ot{constructor(a){super(),a??(a=location.origin);const d=new MessageChannel;if(window.opener)this.addPort(d.port1,window.opener),window.opener.postMessage(_t,a,[d.port2]);else{if(window.parent===window)throw new Error("Unable to connect to store host");this.addPort(d.port1,window.parent),window.parent.postMessage(_t,a,[d.port2])}}}return i.\u0275fac=function(a){return new(a||i)(r.LFG(vt,8))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i})(),Xt=(()=>{class i extends ot{constructor(a){super(),a??(a=location.origin);const d=new Set("string"==typeof a?[a]:a.flat());window.addEventListener("message",h=>{!d.has("*")&&!d.has(h.origin)||h.data===_t&&this.addPort(h.ports[0],h.source)})}}return i.\u0275fac=function(a){return new(a||i)(r.LFG(vt,8))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i})();function Rt(i,f){const a=[];return i?(a.push(Et),f?.filter&&a.push({provide:St,useValue:f.filter})):a.push(q,{provide:D.fN,useClass:st,multi:!0}),f?.knownActions instanceof Array&&a.push({provide:mt,useValue:f.knownActions,multi:!0}),"broadcast"===f?.messageHandler?a.push({provide:Q,useClass:Vt},{provide:xt,useValue:f.broadcastChannelName??"NGXS Messages"}):typeof f?.messageHandler>"u"||"port"===f.messageHandler?(a.push({provide:ot,useClass:i?Xt:Yt},{provide:Q,useExisting:ot}),f?.origin&&a.push({provide:vt,useValue:f.origin})):a.push({provide:Q,useExisting:f.messageHandler}),{ngModule:bt,providers:a}}let bt=(()=>{class i{constructor(a,d){a?.init()??d?.init()}static forChild(a){return Rt(!1,a)}static forRoot(a){return Rt(!0,a)}}return i.\u0275fac=function(a){return new(a||i)(r.LFG(Et,8),r.LFG(q,8))},i.\u0275mod=r.oAB({type:i}),i.\u0275inj=r.cJS({}),i})()}}]);